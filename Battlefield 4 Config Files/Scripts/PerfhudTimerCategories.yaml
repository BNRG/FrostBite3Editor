TAG ! tag:frostbite.net:
---
# we associate budgets with timers distinct from including timers in categories, since a timer may appear in multiple categories.
processorTimers:
    - processor: GPU
      timers: # if a timer is not listed, a timerCategory which includes it will include it on all platforms, and it will have null budget.
        - accumShadow: {default: 2.0, xenon: 2.1}
        - finalPost: {default: 3.0}
        - fog: {default: 0.7}
        - spotlightTile: {default: 9.4} # all platforms, same budget. Good for declaring the timer before you know all the different budgets.
        - lightOutdoor: {win32: 4.0, xenon: 0.0, ps3: 3,5}
        - lightPoint: {win32: 1.0, xenon: 1.5}
        - lightCubemap: {default: 1.0}
        - lightSpot: {win32: 0.7, ps3: 0.0}
        - spotShadow: {default: 0.5, ps3: 0.0}
        - lightTile: {win32: 7.0,xenon: 5.0, default: 4.4}
        - mainGBuffer: {win32: 8.5, xenon: 8.0, ps3: 11.0}
        - mainGBufferSimple: {default: 3}
        - shadow: {win32: 1.8, xenon: 2.0, ps3: 2.0}
        - dynamicEnvMap: {win32: 1.2, xenon: 0.0, ps3: 0.0}
        - uiUpdate: {default: 0.7}
        - uiPostProcess: {default: 0.5}
        - ui: {default: 2.5}
        - worldView: {win32: 14, xenon: 28, ps3: 28, gen4a: 14, gen4b 14}
        - transparentDepth: {default: 3}
    - processor: CPU
      timers:
        - antAnimUpdate: {win32: 7.0, ps3: 10.0, xenon: 10.0}
        - entityUpCharPost: {default: 7.0}
        - aiUpdate: {default: 2.0}
        - emitterBuild: {default: 2.0}
        - emitterDraw: {default: 2.0}
        - clientUpdateGame: {default: 10.0, xenon: 20.0, ps3: 20.0}
    - processor: SPU
      timers:
        - lightTile: {default: 35}
timerCategories:
    #GPU categories.
    - name: Level
      budget: {default: 13.0, xenon: 8.5, win32: 6.0}
      processor: GPU
      timers:
        - mainGBuffer
        - mainGBufferDecal
        - mainGBufferSimpl
        - mainOpaqueEmissive
        - mainTransparent
        - terrainMsTile
        - terrainVtCompr
        - terrainVtTile
        - waterDrawUpd
        - mainTransDepth
    - name: Lighting and VE
      budget: {win32: 3, ps3: 5, xenon: 5, gen4a: 3.0, gen4b: 3.0}
      processor: GPU    # only GPU timers will match names in this list. The category is invalid without a processor specifier.
      timers:
        - fog
        - lightCubemap
        - lightPoint
        - lightSpot
        - lightTile
        - lightCull
        - lightOutdoor
        - sky
        - copyZ
        - waitSpuLight
    - name: Shadows
      budget: {default: 3.8}
      processor: GPU
      timers:   
        - accumShadow
        - shadow
        - spotShadow
    - name: FX GPU
      budget: {win32: 3.0, ps3: 2.0, xenon: 2.0, gen4a: 1.0, gen4b: 1.0}
      processor: GPU    # only GPU timers will match names in this list. The category is invalid without a processor specifier.
      timers:   
        - halfResTransp

    - name: PostProcess
      budget: {win32: 5.9, ps3: 4.1, xenon: 5.0, gen4a: 7.0, gen4b: 7.0}
      processor: GPU    # only GPU timers will match names in this list. The category is invalid without a processor specifier.
      timers:   
        - ssaoBlurH
        - ssaoBlurV
        - ssaoCompute
        - mainDistort
        - motionBlurDerive
        - motionBlurFilter
        - finalPost
        - fxaa
    - name: UI
      budget: {win32: 0.5, ps3: 1.0, xenon: 0.7, gen4a: 0.5, gen4b: 0.5}
      processor: GPU    # only GPU timers will match names in this list. The category is invalid without a processor specifier.
      timers:   
        - ui
        - uiPostProcess
    - name: System Costs
      budget: {win32: 4.3, ps3: 1.5, xenon: 3.7, gen4a: 6.0, gen4b: 6.0}
      processor: GPU    # only GPU timers will match names in this list. The category is invalid without a processor specifier.
      timers:   
        - clear
        - debug
        - debugRender
        - downsampleAverage
        - downsampleZ
        - mainGBufferFixup
        - mainGBufferResol
        - planarReflection
        - mainZPass
        - restoreZ
        - worldOccQueries
    - name: Total
      budget: {win32: 13.0, ps3: 27.0, xenon: 27.0, gen4a: 13.0, gen4b: 13.0}
      processor: GPU
      timers:
        - worldView	  

    # CPU categories

    - name: Gameplay
      budget: {default: 6.0, xenon: 12.0, ps3: 12.0}
      processor: CPU
      timers:
        - onlineMgrPre
        - interpolationMgr
        - preSimPrepareJobs
        - preSimJobs
        - preSimFinalizeJobs
        - postSimPrepareJobs
        - postSimJobs
        - postSimFinalizeJobs
        - clientLvlPostFrame
        - onlineMgrPost
        - preSimServPrepareJobs
        - preSimServJobs
        - preSimServFinalizeJobs
        - postSimServPrepareJobs
        - postSimServJobs
        - postSimServFinalizeJobs

    - name: ANT
      budget: {default: 8.0, ps3: 10, xenon: 10}
      processor: CPU
      timers:
        - antAnimUpdate

    - name: Audio
      budget: {default: 5.0}
      processor: CPU
      timers:
        - audioUpdate

    - name: AI
      budget: {default: 2}
      processor: CPU
      timers:
        - aiUpdate

    - name: Physics
      budget: {default: 5.0}
      processor: CPU
      timers:
        - clientPhysUpdate
        - serverPhysUpdate

    - name: FX
      budget: {default: 2.5}
      processor: CPU
      timers:
        - emitterBuild
        - emitterDraw
        - emitterMeshBuil
        - emitterMeshDraw
        - emitterPostChil
        - emitterPostPare
        - emitterMgrUpd
        - emitterCollisio
        - effectManCmd
        - effectMgrWrk
        - effectGrp
        - effectSync
        - effectManFlush
        - forceManager

    - name: UI
      budget: {win32: 3, ps3: 3, xenon: 3, gen4a: 2, gen4b: 2}
      processor: CPU
      timers:   
        - uiUpdate
        - uiIconScanJob
        - uiRender
        - uiDispatchRenderCmds

    # SPU categories
    - name: SPU Lights
      budget: {default: 0, ps3: 35}
      processor: SPU
      timers:
        - lightTile
#define named sets of categories. The set can be enabled/disabled (displayed/hidden) via console commands.
TimerCategorySets:
    - name: FX
      categories:
        - FX CPU
        - FX GPU
    - name: LevelArtist
      categories:
        - Level
        - Lighting and VE
        - SPU Lights
        - Shadows
        - FX GPU
        - PostProcess
        - Total
    - name: Scripter
      categories:
        - ANT
        - AI
        - Physics
        - Raycasts
        - Total
    - name: Destruction
      categories:
        - Raycast
        - Physics
        - Level
        - FX CPU
        - FX GPU
        - Total	
    - name: LightingArtist
      categories:
        - Lighting and VE
        - Shadows
        - FX GPU
        - Total